---
page_title: "horizon_certificate Resource - horizon"
subcategory: ""
description: |-
  Provides a Certificate resource. This resource allow you to manage the life cycle of a certificate.
---

# horizon_certificate (Resource)

Provides a Certificate resource. This resource allow you to manage the life cycle of a certificate.

This resource creates and enroll a certificate on Horizon, with centralized or decentralized method. 
To enroll with the decentralized method you just need to edit the `csr` argument.
The argument `key_file` is required for a centralized enroll, but forbiden in decentralized enroll.

## Example Usage

### Centralized enroll

```terraform
resource "horizon_certificate" "example" {
  subject {
    element = "CN"
    type    = "CN"
    value   = "example.terraform.cn"
  }
  sans {
    element = "DNSNAME"
    type    = "DNSNAME"
    value   = "example.terraform.dnsname"
  }
  labels {
    label   = "label"
    value   = "example"
  }
  profile   = "Enrollment Profile"
  key_type  = "rsa-2048"  
  revoke_on_delete = false
}
```

### Decentralized enroll

```terraform
resource "horizon_certificate" "example" {
  labels {
    label   = "label"
    value   = "example"
  }
  profile   = "Enrollment Profile"
  csr = <<EOT
CSR CONTENT
  EOT
  revoke_on_delete = false
}
```


<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `profile` (String) Enrollment profile.

### Optional

- `auto_renew` (Boolean) An option that allows the certificate to automatically renew on read if the peremption date is passed. By default it set at false.
- `csr` (String) A CSR file to use the decentralize enroll on Horizon. Be aware that the certificate will be enrolled with the value of your csr. The arguments `subject` and `sans` won't overwrite the CSR.
- `horizon_version` (Number) Horizon version. Useful for version before 2.4.
- `key_type` (String) This is the keyType you'd like to use in the enrollment of the crtificate. It is not compatible with the `csr`argument.
- `labels` (Block Set) Labels for the certificate. (see [below for nested schema](#nestedblock--labels))
- `owner` (String) The owner for the enrolling certificate. By default it will be the user connected in the Provider.
- `revocation_reason` (String) Certificate revocation reason.
- `revoke_on_delete` (Boolean) An option that allows you to delete the resource without causing the revocation of the certificate. By default it is set at true.
- `sans` (Block Set) SAN element for the certificate. (see [below for nested schema](#nestedblock--sans))
- `subject` (Block Set) Subject element for the certificate. (see [below for nested schema](#nestedblock--subject))
- `team` (String) The team linked to the enrolling certificate.

### Read-Only

- `certificate` (String) Enrolled certificate.
- `certificate_pem` (String) Enrolled certificate pem file.
- `dn` (String) certificate DN.
- `id` (String) The ID of this resource.
- `issuer` (String) Certificate issuer.
- `module` (String) Enrollment module.
- `not_after` (Number) Certificate expiration date.
- `not_before` (Number) Certificate creation date.
- `public_key_thumbprint` (String) Certificate publicKeyThumbprint.
- `revocation_date` (Number) Certificate revocation date.
- `self_signed` (Boolean)
- `serial` (String) Certificate serial.
- `signing_algorithm` (String) Certificate signing algorithm.
- `thumbprint` (String) Certificate thumbprint.

<a id="nestedblock--labels"></a>
### Nested Schema for `labels`

Required:

- `label` (String) Label name.
- `value` (String) Label value.


<a id="nestedblock--sans"></a>
### Nested Schema for `sans`

Required:

- `type` (String) SAN element type.
- `value` (String) SAN element value.

Optional:

- `element` (String) SAN element.


<a id="nestedblock--subject"></a>
### Nested Schema for `subject`

Required:

- `element` (String) Subject element.
- `type` (String) Subject element type.
- `value` (String) Subject element value.